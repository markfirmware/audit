<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.jsdelivr.net/gh/alpine-collective/alpine-magic-helpers@0.5.x/dist/index.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/2.8.0/alpine.js"></script>
    </head>
    <body>
        <div x-data="{ state: 'pin_requested' }">
            <template x-if="state == 'pin_requested'">
                <div x-data="{ pin_buffer: '' }">
                    <input x-model=pin_buffer placeholder="4 digit pin">
                    <template x-if="pin_buffer.length == 4">
                        <div x-data x-init="$parent.$parent.state = 'pin_entered'">
                        </div>
                    </template>
                </div>
            </template>
            <template x-if="state == 'pin_entered'">
                <div x-data>
                    <span>
                        pin entered
                    </span>
                </div>
            </template>
        </div>
    </body>
</html>
